{"version":3,"sources":["redux/auth/actions.js","pages/Logout.jsx"],"names":["login","loginAdminData","dispatch","type","actionTypes","payload","loading","authService","data","success","console","log","authValue","current","result","admin","isLoggedIn","permissions","storePersist","set","history","push","logout","Logout","useDispatch","useEffect","a","logoutAction","asyncLogout"],"mappings":"+OAKaA,EAAQ,SAACC,GAAc,8CAAK,WAAOC,GAAQ,yEAInD,OAHHA,EAAS,CACPC,KAAMC,IACNC,QAAS,CAAEC,SAAS,KACnB,SACgBC,IAAkBN,GAAgB,KAAD,GAE/B,KAFfO,EAAI,QAEDC,SACPC,QAAQC,IAAIH,GACNI,EAAY,CAChBC,QAASL,EAAKM,OAAOC,MACrBT,SAAS,EACTU,YAAY,EACZC,YAAaT,EAAKM,OAAOG,aAE3BC,IAAaC,IAAI,OAAQP,GACzBV,EAAS,CACPC,KAAMC,IACNC,QAASG,EAAKM,OAAOC,QAEvBK,IAAQC,KAAK,MAEbnB,EAAS,CACPC,KAAMC,IACNC,QAASG,IAEZ,2CACF,mDA3BmC,IA6BvBc,EAAS,WAAH,8CAAS,WAAOpB,GAAQ,iEACzCK,MACAL,EAAS,CACPC,KAAMC,MAERgB,IAAQC,KAAK,UAAU,2CACxB,mDANkB,K,oGCVJE,UAnBA,WACb,IAAMrB,EAAWsB,cAgBjB,OAPAC,qBAAU,WACkB,aAEzB,OAFyB,wBAA1B,sBAAAC,EAAA,sEACQxB,EAASyB,eAAgB,KAAD,uCAC/B,uBAHc,WACW,wBAG1BC,KACC,IAEI","file":"static/js/LogoutPage.cb6c9fcf.chunk.js","sourcesContent":["import * as actionTypes from \"./types\";\nimport * as authService from \"@/auth\";\nimport storePersist from \"@/redux/storePersist\";\nimport history from \"@/utils/history\";\n\nexport const login = (loginAdminData) => async (dispatch) => {\n  dispatch({\n    type: actionTypes.LOADING_REQUEST,\n    payload: { loading: true },\n  });\n  const data = await authService.login(loginAdminData);\n\n  if (data.success === true) {\n    console.log(data)\n    const authValue = {\n      current: data.result.admin,\n      loading: false,\n      isLoggedIn: true,\n      permissions: data.result.permissions\n    };\n    storePersist.set(\"auth\", authValue);\n    dispatch({\n      type: actionTypes.LOGIN_SUCCESS,\n      payload: data.result.admin,\n    });\n    history.push(\"/\");\n  } else {\n    dispatch({\n      type: actionTypes.FAILED_REQUEST,\n      payload: data,\n    });\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  authService.logout();\n  dispatch({\n    type: actionTypes.LOGOUT_SUCCESS,\n  });\n  history.push(\"/login\");\n};\n","import React, { useEffect, useCallback } from \"react\";\nimport { Button, Result } from \"antd\";\nimport { useDispatch } from \"react-redux\";\nimport { logout as logoutAction } from \"@/redux/auth/actions\";\n\nconst Logout = () => {\n  const dispatch = useDispatch();\n  // const callbackLogout = useCallback(async () => {\n  //   await dispatch(logoutAction());\n  // }, []);\n\n  // useEffect(() => {\n  //   callbackLogout();\n  // }, []);\n\n  useEffect(() => {\n    async function asyncLogout() {\n      await dispatch(logoutAction());\n    }\n    asyncLogout();\n  }, []);\n\n  return <></>;\n};\nexport default Logout;\n"],"sourceRoot":""}